---
const { name, description, url, image } = Astro.props;
---

<div
  class="relative flex flex-col items-stretch duration-300 ease-out p-7 sm:p-3 group h-full rounded-2xl"
>
  <!-- Capa 1: efecto hover -->
  <span
    class="absolute inset-0 z-20 block w-full h-full duration-300 ease-out bg-transparent border border-transparent border-dashed group-hover:-translate-x-1 group-hover:-translate-y-1 group-hover:border group-hover:border-neutral-300 dark:group-hover:border-neutral-600 group-hover:border-dashed rounded-2xl group-hover:bg-white dark:group-hover:bg-neutral-950"
  ></span>

  <!-- Capa 2: borde -->
  <span
    class="absolute inset-0 z-10 block w-full h-full duration-300 ease-out border border-dashed rounded-2xl border-neutral-300 dark:border-neutral-600 group-hover:translate-x-1 group-hover:translate-y-1"
  ></span>

  <!-- Contenido -->
  <span
    class="relative z-30 block duration-300 ease-out group-hover:-translate-x-1 group-hover:-translate-y-1"
  >
    <!-- Imagen -->
    <span class="block w-full">
      <img
        src={image}
        class="w-full h-auto rounded-lg aspect-[16/9] object-cover"
      />
    </span>

    <!-- Título y descripción -->
    <span class="block w-full px-1 mt-5 mb-1 sm:mt-3">
      <span
        class="flex items-center mb-0 text-base font-semibold tracking-tight text-neutral-900 dark:text-neutral-100"
      >
        <span>{name}</span>
        <svg
          class="group-hover:translate-x-0 group-hover:translate-y-0 -rotate-45 translate-y-1 -translate-x-1 w-2.5 h-2.5 stroke-current ml-1 transition-all ease-in-out duration-200 transform"
          viewBox="0 0 13 15"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g
            stroke="none"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <g
              transform="translate(0.667, 2.333)"
              stroke="currentColor"
              stroke-width="2.4"
            >
              <polyline
                class="transition-all opacity-0 group-hover:opacity-100"
                points="5.33 0 10.83 5.5 5.33 11"></polyline>
              <line
                class="transition-all -translate-x-1 opacity-0 group-hover:translate-x-0 group-hover:opacity-100"
                x1="10.83"
                y1="5.5"
                x2="0.83"
                y2="5.17"></line>
            </g>
          </g>
        </svg>
      </span>
      <span
        class="text-sm text-neutral-600 dark:text-neutral-400 block truncate"
      >
        {description}
      </span>
    </span>

    <!-- Botones con solo íconos -->
    <div class="mt-4 flex gap-2 px-1">
      <!-- Botón 1: Link externo -->
      <a
        href={url}
        target="_blank"
        rel="noopener noreferrer"
        title="Ver proyecto"
        aria-label="Ver proyecto"
        class="text-xs p-2 font-medium text-white rounded-md transition backdrop-blur-sm bg-purple-700/40 border border-purple-500 hover:bg-purple-700/60 flex items-center justify-center"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="w-4 h-4"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"
          ></path>
          <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"
          ></path>
        </svg>
      </a>

      <!-- Botón 2: Ver todos los proyectos -->
      <a
        href="/projects"
        title="Todos los proyectos"
        aria-label="Todos los proyectos"
        class="text-xs p-2 font-medium text-white rounded-md transition backdrop-blur-sm bg-purple-700/40 border border-purple-500 hover:bg-purple-700/60 flex items-center justify-center"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="w-4 h-4"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"
          ></path>
          <polyline points="15 3 21 3 21 9"></polyline>
          <line x1="10" y1="14" x2="21" y2="3"></line>
        </svg>
      </a>
    </div>
  </span>
</div>
